<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../Scripts/jQuery/jquery-1.4.4.min.js" type="text/javascript"></script>
    <script src="../Scripts/JSON/Json2.min.js" type="text/javascript"></script>
</head>
<body>
<fieldset>
    <legend>选中的值</legend>
    <input id="btnGetValues" type="button" value="获取选中的节点值" />
    <span id="displaySpan"></span>
</fieldset>

<div id="divA" style="border:1px dotted #666666">
A区域
    <p><input type="checkbox" class="all"  />全选/全不选</p>
    <p><input type="checkbox" class="c" value="1" /> </p>
    <p><input type="checkbox" class="c" value="2" /></p>
    <p><input type="checkbox" class="c" value="3" /></p>
    <p><input type="checkbox" class="c" value="4" /></p>
</div>

<div id="divB" style="border:1px dotted #666666">
B区域
    <p><input type="checkbox" class="all"  />全选/全不选</p>
    <p><input type="checkbox" class="c" value="11" /> </p>
    <p><input type="checkbox" class="c" value="12" /></p>
    <p><input type="checkbox" class="c" value="13" /></p>
    <p><input type="checkbox" class="c" value="14" /></p>
</div>

    <script type="text/javascript">
        $(document).ready(function () {
            $(".all").click(function () {
                var selectedStatus = $(this).attr("checked");
                $(":checkbox", $(this).parents("div")).attr("checked", selectedStatus);
            });

            $("#btnGetValues").click(function () {
                var valueSelected = JSON.stringify($("input:checked").map(function () { return $(this).val(); }).get(), null, null);
                $("#displaySpan").text(valueSelected);
            });
        });

        
    </script>
</body>
</html>
